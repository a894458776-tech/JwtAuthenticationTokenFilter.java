<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kylin.kton.system.mapper.KtonIpDynamicsAccountMapper">
    
    <resultMap type="KtonIpDynamicsAccount" id="KtonIpDynamicsAccountResult">
        <result property="id"    column="id"    />
        <result property="merchantId"    column="merchant_id"    />
        <result property="accountId"    column="account_id"    />
        <result property="sourceId"    column="source_id"    />
        <result property="label"    column="label"    />
        <result property="channelLabel"    column="channel_label"    />
        <result property="status"    column="status"    />
        <result property="poolType"    column="pool_type"    />
        <result property="email"    column="email"    />
        <result property="account"    column="account"    />
        <result property="password"    column="password"    />
        <result property="threads"    column="threads"    />
        <result property="stickyRangeStart"    column="sticky_range_start"    />
        <result property="stickyRangeEnd"    column="sticky_range_end"    />
        <result property="blocked"    column="blocked"    />
        <result property="blockedHosts"    column="blocked_hosts"    />
        <result property="defaultPoolParametersCountries"    column="default_pool_parameters_countries"    />
        <result property="defaultPoolParametersCities"    column="default_pool_parameters_cities"    />
        <result property="defaultPoolParametersStates"    column="default_pool_parameters_states"    />
        <result property="defaultPoolParametersZipcodes"    column="default_pool_parameters_zipcodes"    />
        <result property="defaultPoolParametersAsns"    column="default_pool_parameters_asns"    />
        <result property="defaultPoolParametersExcludeCountries"    column="default_pool_parameters_exclude_countries"    />
        <result property="defaultPoolParametersExcludeAsn"    column="default_pool_parameters_exclude_asn"    />
        <result property="defaultPoolParametersAnonymousFilter"    column="default_pool_parameters_anonymous_filter"    />
        <result property="defaultPoolParametersRotationInterval"    column="default_pool_parameters_rotation_interval"    />
        <result property="trafficLimit"    column="traffic_limit"    />
        <result property="defaultEndpointHost"    column="default_endpoint_host"    />
        <result property="defaultEndpointPort"    column="default_endpoint_port"    />
        <result property="remarks"    column="remarks"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateTime"    column="update_time"    />
    </resultMap>

    <sql id="selectKtonIpDynamicsAccountVo">
        select id, merchant_id, account_id, source_id, label, channel_label, status, pool_type, email, account, password, threads, sticky_range_start, sticky_range_end, blocked, blocked_hosts, default_pool_parameters_countries, default_pool_parameters_cities, default_pool_parameters_states, default_pool_parameters_zipcodes, default_pool_parameters_asns, default_pool_parameters_exclude_countries, default_pool_parameters_exclude_asn, default_pool_parameters_anonymous_filter, default_pool_parameters_rotation_interval, traffic_limit, default_endpoint_host, default_endpoint_port, remarks, create_time, update_time from kton_ip_dynamics_account
    </sql>

    <select id="selectKtonIpDynamicsAccountList" parameterType="KtonIpDynamicsAccount" resultMap="KtonIpDynamicsAccountResult">
        <include refid="selectKtonIpDynamicsAccountVo"/>
        <where>  
            <if test="merchantId != null "> and merchant_id = #{merchantId}</if>
            <if test="accountId != null "> and account_id = #{accountId}</if>
            <if test="sourceId != null  and sourceId != ''"> and source_id = #{sourceId}</if>
            <if test="label != null  and label != ''"> and label = #{label}</if>
            <if test="channelLabel != null  and channelLabel != ''"> and channel_label = #{channelLabel}</if>
            <if test="status != null  and status != ''"> and status = #{status}</if>
            <if test="poolType != null  and poolType != ''"> and pool_type = #{poolType}</if>
            <if test="email != null  and email != ''"> and email = #{email}</if>
            <if test="account != null  and account != ''"> and account = #{account}</if>
            <if test="password != null  and password != ''"> and password = #{password}</if>
            <if test="threads != null "> and threads = #{threads}</if>
            <if test="stickyRangeStart != null "> and sticky_range_start = #{stickyRangeStart}</if>
            <if test="stickyRangeEnd != null "> and sticky_range_end = #{stickyRangeEnd}</if>
            <if test="blocked != null  and blocked != ''"> and blocked = #{blocked}</if>
            <if test="blockedHosts != null  and blockedHosts != ''"> and blocked_hosts = #{blockedHosts}</if>
            <if test="defaultPoolParametersCountries != null  and defaultPoolParametersCountries != ''"> and default_pool_parameters_countries = #{defaultPoolParametersCountries}</if>
            <if test="defaultPoolParametersCities != null  and defaultPoolParametersCities != ''"> and default_pool_parameters_cities = #{defaultPoolParametersCities}</if>
            <if test="defaultPoolParametersStates != null  and defaultPoolParametersStates != ''"> and default_pool_parameters_states = #{defaultPoolParametersStates}</if>
            <if test="defaultPoolParametersZipcodes != null  and defaultPoolParametersZipcodes != ''"> and default_pool_parameters_zipcodes = #{defaultPoolParametersZipcodes}</if>
            <if test="defaultPoolParametersAsns != null  and defaultPoolParametersAsns != ''"> and default_pool_parameters_asns = #{defaultPoolParametersAsns}</if>
            <if test="defaultPoolParametersExcludeCountries != null  and defaultPoolParametersExcludeCountries != ''"> and default_pool_parameters_exclude_countries = #{defaultPoolParametersExcludeCountries}</if>
            <if test="defaultPoolParametersExcludeAsn != null  and defaultPoolParametersExcludeAsn != ''"> and default_pool_parameters_exclude_asn = #{defaultPoolParametersExcludeAsn}</if>
            <if test="defaultPoolParametersAnonymousFilter != null  and defaultPoolParametersAnonymousFilter != ''"> and default_pool_parameters_anonymous_filter = #{defaultPoolParametersAnonymousFilter}</if>
            <if test="defaultPoolParametersRotationInterval != null  and defaultPoolParametersRotationInterval != ''"> and default_pool_parameters_rotation_interval = #{defaultPoolParametersRotationInterval}</if>
            <if test="trafficLimit != null "> and traffic_limit = #{trafficLimit}</if>
            <if test="defaultEndpointHost != null  and defaultEndpointHost != ''"> and default_endpoint_host = #{defaultEndpointHost}</if>
            <if test="defaultEndpointPort != null  and defaultEndpointPort != ''"> and default_endpoint_port = #{defaultEndpointPort}</if>
            <if test="remarks != null  and remarks != ''"> and remarks = #{remarks}</if>
        </where>
    </select>
    
    <select id="selectKtonIpDynamicsAccountById" parameterType="Long" resultMap="KtonIpDynamicsAccountResult">
        <include refid="selectKtonIpDynamicsAccountVo"/>
        where id = #{id}
    </select>

    <insert id="insertKtonIpDynamicsAccount" parameterType="KtonIpDynamicsAccount" useGeneratedKeys="true" keyProperty="id">
        insert into kton_ip_dynamics_account
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="merchantId != null">merchant_id,</if>
            <if test="accountId != null">account_id,</if>
            <if test="sourceId != null and sourceId != ''">source_id,</if>
            <if test="label != null">label,</if>
            <if test="channelLabel != null">channel_label,</if>
            <if test="status != null and status != ''">status,</if>
            <if test="poolType != null">pool_type,</if>
            <if test="email != null">email,</if>
            <if test="account != null">account,</if>
            <if test="password != null">password,</if>
            <if test="threads != null">threads,</if>
            <if test="stickyRangeStart != null">sticky_range_start,</if>
            <if test="stickyRangeEnd != null">sticky_range_end,</if>
            <if test="blocked != null">blocked,</if>
            <if test="blockedHosts != null">blocked_hosts,</if>
            <if test="defaultPoolParametersCountries != null">default_pool_parameters_countries,</if>
            <if test="defaultPoolParametersCities != null">default_pool_parameters_cities,</if>
            <if test="defaultPoolParametersStates != null">default_pool_parameters_states,</if>
            <if test="defaultPoolParametersZipcodes != null">default_pool_parameters_zipcodes,</if>
            <if test="defaultPoolParametersAsns != null">default_pool_parameters_asns,</if>
            <if test="defaultPoolParametersExcludeCountries != null">default_pool_parameters_exclude_countries,</if>
            <if test="defaultPoolParametersExcludeAsn != null">default_pool_parameters_exclude_asn,</if>
            <if test="defaultPoolParametersAnonymousFilter != null">default_pool_parameters_anonymous_filter,</if>
            <if test="defaultPoolParametersRotationInterval != null">default_pool_parameters_rotation_interval,</if>
            <if test="trafficLimit != null">traffic_limit,</if>
            <if test="defaultEndpointHost != null">default_endpoint_host,</if>
            <if test="defaultEndpointPort != null">default_endpoint_port,</if>
            <if test="remarks != null">remarks,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateTime != null">update_time,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="merchantId != null">#{merchantId},</if>
            <if test="accountId != null">#{accountId},</if>
            <if test="sourceId != null and sourceId != ''">#{sourceId},</if>
            <if test="label != null">#{label},</if>
            <if test="channelLabel != null">#{channelLabel},</if>
            <if test="status != null and status != ''">#{status},</if>
            <if test="poolType != null">#{poolType},</if>
            <if test="email != null">#{email},</if>
            <if test="account != null">#{account},</if>
            <if test="password != null">#{password},</if>
            <if test="threads != null">#{threads},</if>
            <if test="stickyRangeStart != null">#{stickyRangeStart},</if>
            <if test="stickyRangeEnd != null">#{stickyRangeEnd},</if>
            <if test="blocked != null">#{blocked},</if>
            <if test="blockedHosts != null">#{blockedHosts},</if>
            <if test="defaultPoolParametersCountries != null">#{defaultPoolParametersCountries},</if>
            <if test="defaultPoolParametersCities != null">#{defaultPoolParametersCities},</if>
            <if test="defaultPoolParametersStates != null">#{defaultPoolParametersStates},</if>
            <if test="defaultPoolParametersZipcodes != null">#{defaultPoolParametersZipcodes},</if>
            <if test="defaultPoolParametersAsns != null">#{defaultPoolParametersAsns},</if>
            <if test="defaultPoolParametersExcludeCountries != null">#{defaultPoolParametersExcludeCountries},</if>
            <if test="defaultPoolParametersExcludeAsn != null">#{defaultPoolParametersExcludeAsn},</if>
            <if test="defaultPoolParametersAnonymousFilter != null">#{defaultPoolParametersAnonymousFilter},</if>
            <if test="defaultPoolParametersRotationInterval != null">#{defaultPoolParametersRotationInterval},</if>
            <if test="trafficLimit != null">#{trafficLimit},</if>
            <if test="defaultEndpointHost != null">#{defaultEndpointHost},</if>
            <if test="defaultEndpointPort != null">#{defaultEndpointPort},</if>
            <if test="remarks != null">#{remarks},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateTime != null">#{updateTime},</if>
         </trim>
    </insert>

    <update id="updateKtonIpDynamicsAccount" parameterType="KtonIpDynamicsAccount">
        update kton_ip_dynamics_account
        <trim prefix="SET" suffixOverrides=",">
            <if test="merchantId != null">merchant_id = #{merchantId},</if>
            <if test="accountId != null">account_id = #{accountId},</if>
            <if test="sourceId != null and sourceId != ''">source_id = #{sourceId},</if>
            <if test="label != null">label = #{label},</if>
            <if test="channelLabel != null">channel_label = #{channelLabel},</if>
            <if test="status != null and status != ''">status = #{status},</if>
            <if test="poolType != null">pool_type = #{poolType},</if>
            <if test="email != null">email = #{email},</if>
            <if test="account != null">account = #{account},</if>
            <if test="password != null">password = #{password},</if>
            <if test="threads != null">threads = #{threads},</if>
            <if test="stickyRangeStart != null">sticky_range_start = #{stickyRangeStart},</if>
            <if test="stickyRangeEnd != null">sticky_range_end = #{stickyRangeEnd},</if>
            <if test="blocked != null">blocked = #{blocked},</if>
            <if test="blockedHosts != null">blocked_hosts = #{blockedHosts},</if>
            <if test="defaultPoolParametersCountries != null">default_pool_parameters_countries = #{defaultPoolParametersCountries},</if>
            <if test="defaultPoolParametersCities != null">default_pool_parameters_cities = #{defaultPoolParametersCities},</if>
            <if test="defaultPoolParametersStates != null">default_pool_parameters_states = #{defaultPoolParametersStates},</if>
            <if test="defaultPoolParametersZipcodes != null">default_pool_parameters_zipcodes = #{defaultPoolParametersZipcodes},</if>
            <if test="defaultPoolParametersAsns != null">default_pool_parameters_asns = #{defaultPoolParametersAsns},</if>
            <if test="defaultPoolParametersExcludeCountries != null">default_pool_parameters_exclude_countries = #{defaultPoolParametersExcludeCountries},</if>
            <if test="defaultPoolParametersExcludeAsn != null">default_pool_parameters_exclude_asn = #{defaultPoolParametersExcludeAsn},</if>
            <if test="defaultPoolParametersAnonymousFilter != null">default_pool_parameters_anonymous_filter = #{defaultPoolParametersAnonymousFilter},</if>
            <if test="defaultPoolParametersRotationInterval != null">default_pool_parameters_rotation_interval = #{defaultPoolParametersRotationInterval},</if>
            <if test="trafficLimit != null">traffic_limit = #{trafficLimit},</if>
            <if test="defaultEndpointHost != null">default_endpoint_host = #{defaultEndpointHost},</if>
            <if test="defaultEndpointPort != null">default_endpoint_port = #{defaultEndpointPort},</if>
            <if test="remarks != null">remarks = #{remarks},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteKtonIpDynamicsAccountById" parameterType="Long">
        delete from kton_ip_dynamics_account where id = #{id}
    </delete>

    <delete id="deleteKtonIpDynamicsAccountByIds" parameterType="String">
        delete from kton_ip_dynamics_account where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>